(()=>{"use strict";var e={20:(e,t,s)=>{var o=s(609),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function p(e,t,s){var o,r={},p=null,d=null;for(o in void 0!==s&&(p=""+s),void 0!==t.key&&(p=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,o)&&!i.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===r[o]&&(r[o]=t[o]);return{$$typeof:n,type:e,key:p,ref:d,props:r,_owner:c.current}}t.Fragment=r,t.jsx=p,t.jsxs=p},609:e=>{e.exports=window.React},848:(e,t,s)=>{e.exports=s(20)}},t={};const s=window.wc.wcSettings,o=window.wc.wcBlocksRegistry,n=window.wp.i18n,r=window.wp.htmlEntities,a=window.wp.element;var c=function s(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,s),r.exports}(848);const i=(0,s.getPaymentMethodData)("cashpresso",{}),p=(0,n.__)("Ratenkauf","lnx-cashpresso-woocommerce"),d=(0,r.decodeEntities)(i?.title||"")||p,u=e=>{const{PaymentMethodLabel:t}=e.components;return(0,c.jsx)(t,{text:d})},l=e=>(0,c.jsx)(c.Fragment,{children:(0,r.decodeEntities)(i.description||"")}),m=e=>{const{activePaymentMethod:t,billing:s,emitResponse:o,eventRegistration:p}=e,{onPaymentProcessing:d}=p;return(0,a.useEffect)((()=>{"undefined"!=typeof C2EcomCheckout&&"cashpresso"===t&&C2EcomCheckout.init()}),[t]),(0,a.useEffect)((()=>{const{email:e,first_name:t,last_name:o,country:n,city:r,postcode:a,address_1:c,address_2:i,phone:p}=s.billingAddress;"undefined"!=typeof C2EcomCheckout&&C2EcomCheckout.refreshOptionalData({email:e,given:t,family:o,country:n,city:r,zip:a,addressline:`${c} ${i}`,phone:p})}),[s.billingAddress]),(0,a.useEffect)((()=>{"undefined"!=typeof C2EcomCheckout&&"cashpresso"===t&&C2EcomCheckout.refresh(s.cartTotal.value/100)}),[s.cartTotal.value]),(0,a.useEffect)((()=>{const e=d((async()=>{const e=document.getElementById("cashpressoToken")?.value;return e?{type:o.responseTypes.SUCCESS,meta:{paymentMethodData:{cashpressoToken:e}}}:{type:o.responseTypes.ERROR,message:(0,n.__)("Bitte wähle deine Rate aus.","lnx-cashpresso-woocommerce")}}));return()=>{e()}}),[o.responseTypes.ERROR,o.responseTypes.SUCCESS,d]),(0,c.jsxs)(c.Fragment,{children:[(0,r.decodeEntities)(i.description||""),(0,c.jsx)("p",{children:" "}),(0,c.jsx)("input",{type:"hidden",id:"cashpressoToken",name:"cashpressoToken"}),(0,c.jsx)("div",{id:"cashpresso-checkout"})]})};(0,o.registerPaymentMethod)({name:"cashpresso",label:(0,c.jsx)(u,{}),content:(0,c.jsx)(m,{}),edit:(0,c.jsx)(l,{}),canMakePayment({cartTotals:e}){const t=parseInt(e.total_price,10)/100;return t>=i.minPurchaseAmount&&t<=i.maxPurchaseAmount},ariaLabel:i.title,supports:{features:i.supports}})})();